{% extends 'base.html' %}
{% load static %}

{% block title %}–ì–ª–∞–≤–Ω–∞—è - TechBlog{% endblock %}

{% block content %}
<div class="container">
    <!-- Hero Section -->
    <section class="hero">
        <h1 class="hero-title">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ TechBlog</h1>
        <p class="hero-subtitle">–ú–µ—Å—Ç–æ, –≥–¥–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è —Å –∏–¥–µ—è–º–∏</p>
        {% if not user.is_authenticated %}
            <div class="hero-actions">
                <a href="{% url 'users:register' %}" class="btn btn-primary btn-lg">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è</a>
                <a href="{% url 'blog:posts_list' %}" class="btn btn-outline btn-lg">–ß–∏—Ç–∞—Ç—å –ø–æ—Å—Ç—ã</a>
            </div>
        {% endif %}
    </section>

    <!-- –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–µ–≥–∏ -->
    {% if popular_tags %}
    <section class="popular-tags">
        <h2 class="section-title">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–µ–≥–∏</h2>
        <div class="tags-cloud">
            {% for tag in popular_tags %}
                <a href="{% url 'blog:tag_posts' tag.slug %}" class="tag-badge">
                    {{ tag.name }} <span class="tag-count">{{ tag.post_count }}</span>
                </a>
            {% endfor %}
        </div>
    </section>
    {% endif %}

    <!-- –ü–æ—Å–ª–µ–¥–Ω–∏–µ –ø–æ—Å—Ç—ã -->
    <section class="recent-posts">
        <div class="section-header">
            <h2 class="section-title">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –ø–æ—Å—Ç—ã</h2>
            <a href="{% url 'blog:posts_list' %}" class="btn btn-text">–í—Å–µ –ø–æ—Å—Ç—ã ‚Üí</a>
        </div>
        
        {% if recent_posts %}
            <div class="posts-grid">
                {% for post in recent_posts %}
                    <article class="post-card">
                        <div class="post-card-header">
                            <div class="post-author">
                                {% if post.author.profile.avatar %}
                                    <img src="{{ post.author.profile.avatar.url }}" alt="{{ post.author.username }}" class="avatar-sm">
                                {% else %}
                                    <span class="avatar-placeholder avatar-sm">{{ post.author.username.0|upper }}</span>
                                {% endif %}
                                <div class="author-info">
                                    <a href="{% url 'users:profile' post.author.username %}" class="author-name">{{ post.author.username }}</a>
                                    <span class="post-date">{{ post.created_at|date:"d.m.Y" }}</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="post-card-body">
                            <h3 class="post-title">
                                <a href="{% url 'blog:post_detail' post.pk %}">{{ post.title }}</a>
                            </h3>
                            <p class="post-excerpt">{{ post.content|truncatewords:30|striptags }}</p>
                        </div>
                        
                        <div class="post-card-footer">
                            <div class="post-tags">
                                {% for tag in post.tags.all|slice:":3" %}
                                    <a href="{% url 'blog:tag_posts' tag.slug %}" class="tag-mini">{{ tag.name }}</a>
                                {% endfor %}
                            </div>
                            <div class="post-stats">
                                <span class="stat">
                                    <span class="stat-icon">üëÅ</span> {{ post.views }}
                                </span>
                                <span class="stat">
                                    <span class="stat-icon">‚ù§Ô∏è</span> {{ post.total_likes }}
                                </span>
                                <span class="stat">
                                    <span class="stat-icon">üí¨</span> {{ post.comments.count }}
                                </span>
                            </div>
                        </div>
                    </article>
                {% endfor %}
            </div>
        {% else %}
            <div class="empty-state">
                <p>–ü–æ–∫–∞ –Ω–µ—Ç –ø–æ—Å—Ç–æ–≤</p>
            </div>
        {% endif %}
    </section>
</div>
{% endblock %}

